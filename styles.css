/* Accessible light theme (WCAG AA contrast) */
:root {
  --bg: #ffffff;          /* page background */
  --panel: #f5f7fb;       /* sidebar panel */
  --border: #d0d7e2;      /* light border */
  --text: #0f172a;        /* dark text */
  --muted: #475569;       /* muted text */
  --accent: #0ea5e9;      /* cyan-600 */
  --accent-2: #2563eb;    /* blue-600 */
  --focus: #f59e0b;       /* amber-500 */
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Noto Sans', 'Helvetica Neue', Arial;
}

/* Top bar */
.topbar {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 16px;
  border-bottom: 1px solid var(--border);
  background: #ffffff;
  position: sticky; top: 0; z-index: 10;
}
.app-title { font-size: 20px; margin: 0; }
.lang-switch { display: flex; gap: 8px; }
.lang-btn {
  display: inline-flex; align-items: center; justify-content: center;
  height: 32px; min-width: 44px; padding: 0 10px;
  border-radius: 8px; border: 1px solid var(--border);
  background: #fff; color: var(--text);
  font-weight: 600; cursor: pointer;
}
.lang-btn:hover { background: #f1f5f9; }
.lang-btn.active { outline: 2px solid var(--accent-2); }

/* Layout */
.layout { display: grid; grid-template-columns: 300px 1fr; height: calc(100vh - 54px); }
.sidebar {
  border-right: 1px solid var(--border);
  background: var(--panel);
  overflow: auto;
}
.content { overflow: hidden; padding: 0; }

/* Tree */
.tree { padding: 8px; }
.tree ul { list-style: none; padding-left: 0; margin: 0; }
.tree li { margin: 2px 0; }
.node { display: flex; flex-direction: column; border-radius: 8px; }
.node-header {
  display: flex; align-items: center; gap: 8px;
  padding: 8px 10px; cursor: pointer;
  border: 1px solid transparent; background: transparent;
}
.node-header:hover { background: #eaf2ff; }
.node-header.selected { border-color: var(--accent-2); background: #e0eaff; }
.toggle {
  width: 24px; height: 24px;
  display: inline-flex; align-items: center; justify-content: center;
  border: 1px solid var(--border); background: #fff; color: var(--text);
  border-radius: 6px; cursor: pointer; font-size: 12px;
}
.toggle.hidden { visibility: hidden; }
.title { flex: 1; }
.level-1 .title { font-weight: 700; }
.level-2 .title { font-weight: 600; }
.level-3 .title { font-weight: 500; }
.level-4 .title { font-weight: 400; }
.children { margin-left: 24px; padding-left: 10px; border-left: 1px dashed var(--border); }

/* Content iframe */
.content-frame { width: 100%; height: 100%; border: 0; background: #fff; }

/* Content HTML defaults */
.content h2, .content h3, .content-frame h2, .content-frame h3 { margin-top: 0; }
.content a { color: var(--accent-2); }
.note { color: var(--muted); font-style: italic; }

/* Focus accessibility */
:focus-visible { outline: 3px solid var(--focus); outline-offset: 2px; }
